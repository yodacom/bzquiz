$(function(){function e(){$("#textContainer").html(""),$("#buttons").html(""),q=$("#query").val();var e="http://api.brewerydb.com/v2/search",n={q:q,key:"758086eed7b9e97ad41b21d18b37b4a7"},i=function(e){a=e.data,console.log(e),$.each(e.data,function(e,a){var n=t(a);$("#textContainer").append(n)});var n=getButtons(prePageToken,nextPageToken);$("#buttons").append(n)};$.get(e,n,i)}function t(e){var t=(e.id,e.data.nameDisplay,e.data.beerDescription,e.data.abv,e.data.ibu,e.data.style.category.name,e.data.labels.icon),a=($("<li>",{class:"text-container"}),$("<div>",{class:"list-left"})),n=$("<a>",{class:"beerLink"}),i={src:t};n.append(i),a.append(n)}var a=[];$("#query");$("#search-form").submit(function(t){t.preventDefault(),e()}),$("#results").on("click",".beerLink",function(e){e.preventDefault();$(this).data("id")})}),$(document).ready(function(){$.ajax({type:"GET",url:"http://en.wikipedia.org/w/api.php?action=parse&format=json&prop=text&section=0&page=beer_color&callback=?",contentType:"application/json; charset=utf-8",async:!1,dataType:"json",success:function(e,t,a){var n=e.parse.text["*"],i=$("<div></div>").html(n);i.find("a").each(function(){$(this).replaceWith($(this).html())}),i.find("sup").remove(),i.find(".mw-ext-cite-error").remove(),$("#article").html($(i).find("p"))},error:function(e){}})});